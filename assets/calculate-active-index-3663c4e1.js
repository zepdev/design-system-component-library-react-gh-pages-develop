import{r as a}from"./index-b1e7e93e.js";import{a as v,l as g}from"./keyboard-93128b4d.js";import{h as p,T as h}from"./focus-management-5143e399.js";function N(e,o){let[r,u]=a.useState(e),c=v(e);return g(()=>u(c.current),[c,u,...o]),r}function E(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function L(){return/Android/gi.test(window.navigator.userAgent)}function x(){return E()||L()}function d(e,o,r){let u=v(o);a.useEffect(()=>{function c(t){u.current(t)}return document.addEventListener(e,c,r),()=>document.removeEventListener(e,c,r)},[e,r])}function P(e,o,r){let u=v(o);a.useEffect(()=>{function c(t){u.current(t)}return window.addEventListener(e,c,r),()=>window.removeEventListener(e,c,r)},[e,r])}function T(e,o,r=!0){let u=a.useRef(!1);a.useEffect(()=>{requestAnimationFrame(()=>{u.current=r})},[r]);function c(n,s){if(!u.current||n.defaultPrevented)return;let i=s(n);if(i===null||!i.getRootNode().contains(i)||!i.isConnected)return;let w=function f(l){return typeof l=="function"?f(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e);for(let f of w){if(f===null)continue;let l=f instanceof HTMLElement?f:f.current;if(l!=null&&l.contains(i)||n.composed&&n.composedPath().includes(l))return}return!p(i,h.Loose)&&i.tabIndex!==-1&&n.preventDefault(),o(n,i)}let t=a.useRef(null);d("pointerdown",n=>{var s,i;u.current&&(t.current=((i=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:i[0])||n.target)},!0),d("mousedown",n=>{var s,i;u.current&&(t.current=((i=(s=n.composedPath)==null?void 0:s.call(n))==null?void 0:i[0])||n.target)},!0),d("click",n=>{x()||t.current&&(c(n,()=>t.current),t.current=null)},!0),d("touchend",n=>c(n,()=>n.target instanceof HTMLElement?n.target:null),!0),P("blur",n=>c(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function m(e){return[e.screenX,e.screenY]}function y(){let e=a.useRef([-1,-1]);return{wasMoved(o){let r=m(o);return e.current[0]===r[0]&&e.current[1]===r[1]?!1:(e.current=r,!0)},update(o){e.current=m(o)}}}function b(e){throw new Error("Unexpected object: "+e)}var A=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(A||{});function F(e,o){let r=o.resolveItems();if(r.length<=0)return null;let u=o.resolveActiveIndex(),c=u??-1;switch(e.focus){case 0:{for(let t=0;t<r.length;++t)if(!o.resolveDisabled(r[t],t,r))return t;return u}case 1:{for(let t=c-1;t>=0;--t)if(!o.resolveDisabled(r[t],t,r))return t;return u}case 2:{for(let t=c+1;t<r.length;++t)if(!o.resolveDisabled(r[t],t,r))return t;return u}case 3:{for(let t=r.length-1;t>=0;--t)if(!o.resolveDisabled(r[t],t,r))return t;return u}case 4:{for(let t=0;t<r.length;++t)if(o.resolveId(r[t],t,r)===e.id)return t;return u}case 5:return null;default:b(e)}}export{A as c,F as f,N as i,x as n,y as u,T as y};
