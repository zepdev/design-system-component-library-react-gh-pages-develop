import{c as $}from"./clsx.m-1229b3e0.js";import{F as W}from"./Icon-d0877a49.js";import{r as d,R as p}from"./index-8db94870.js";import{o as g,S as ae,D as M,y as A,T as xe,u as P,l as j,H as ze,h as ye,a as he,p as G,c as Re,d as K,e as Oe,b as Se,f as Le,R as Ee,X as B,I as X,i as se,s as De,C as we,g as Ie,j as Te,k as Ce,m as E,n as R,r as $e,q as Z,x as ke,t as Pe,v as Fe,$ as Ne}from"./getDistanceToBottom-0a023c77.js";import{t as qe}from"./tw-merge-b02e8c47.js";let oe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function le(e){var r,a;let n=(r=e.innerText)!=null?r:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return n;let s=!1;for(let i of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),s=!0;let t=s?(a=l.innerText)!=null?a:"":n;return oe.test(t)&&(t=t.replace(oe,"")),t}function Ve(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let a=e.getAttribute("aria-labelledby");if(a){let n=a.split(" ").map(l=>{let s=document.getElementById(l);if(s){let t=s.getAttribute("aria-label");return typeof t=="string"?t.trim():le(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return le(e).trim()}function Me(e){let r=d.useRef(""),a=d.useRef("");return g(()=>{let n=e.current;if(!n)return"";let l=n.innerText;if(r.current===l)return a.current;let s=Ve(n).trim().toLowerCase();return r.current=l,a.current=s,s})}var Ae=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ae||{}),Be=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Be||{}),Qe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qe||{}),He=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(He||{});function Y(e,r=a=>a){let a=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=Pe(r(e.options.slice()),s=>s.dataRef.current.domRef.current),l=a?n.indexOf(a):null;return l===-1&&(l=null),{options:n,activeOptionIndex:l}}let _e={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let r=e.activeOptionIndex,{isSelected:a}=e.dataRef.current,n=e.options.findIndex(l=>a(l.dataRef.current.value));return n!==-1&&(r=n),{...e,listboxState:0,activeOptionIndex:r}},[2](e,r){var a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=Y(e),l=ke(r,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:l,activationTrigger:(a=r.trigger)!=null?a:1}},[3]:(e,r)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let a=e.searchQuery!==""?0:1,n=e.searchQuery+r.value.toLowerCase(),l=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+a).concat(e.options.slice(0,e.activeOptionIndex+a)):e.options).find(t=>{var i;return!t.dataRef.current.disabled&&((i=t.dataRef.current.textValue)==null?void 0:i.startsWith(n))}),s=l?e.options.indexOf(l):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:s,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,r)=>{let a={id:r.id,dataRef:r.dataRef},n=Y(e,l=>[...l,a]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(r.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(a)),{...e,...n}},[6]:(e,r)=>{let a=Y(e,n=>{let l=n.findIndex(s=>s.id===r.id);return l!==-1&&n.splice(l,1),n});return{...e,...a,activationTrigger:1}},[7]:(e,r)=>({...e,labelId:r.id})},ee=d.createContext(null);ee.displayName="ListboxActionsContext";function Q(e){let r=d.useContext(ee);if(r===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Q),a}return r}let te=d.createContext(null);te.displayName="ListboxDataContext";function H(e){let r=d.useContext(te);if(r===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,H),a}return r}function Ue(e,r){return P(r.type,_e,e,r)}let je=d.Fragment;function Ge(e,r){let{value:a,defaultValue:n,form:l,name:s,onChange:t,by:i=(u,m)=>u===m,disabled:c=!1,horizontal:x=!1,multiple:z=!1,...S}=e;const w=x?"horizontal":"vertical";let O=A(r),[y=z?[]:void 0,D]=xe(a,t,n),[f,o]=d.useReducer(Ue,{dataRef:d.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),b=d.useRef({static:!1,hold:!1}),T=d.useRef(null),C=d.useRef(null),F=d.useRef(null),h=g(typeof i=="string"?(u,m)=>{let L=i;return(u==null?void 0:u[L])===(m==null?void 0:m[L])}:i),I=d.useCallback(u=>P(v.mode,{[1]:()=>y.some(m=>h(m,u)),[0]:()=>h(y,u)}),[y]),v=d.useMemo(()=>({...f,value:y,disabled:c,mode:z?1:0,orientation:w,compare:h,isSelected:I,optionsPropsRef:b,labelRef:T,buttonRef:C,optionsRef:F}),[y,c,z,f]);j(()=>{f.dataRef.current=v},[v]),ze([v.buttonRef,v.optionsRef],(u,m)=>{var L;o({type:1}),ye(m,he.Loose)||(u.preventDefault(),(L=v.buttonRef.current)==null||L.focus())},v.listboxState===0);let k=d.useMemo(()=>({open:v.listboxState===0,disabled:c,value:y}),[v,c,y]),ne=g(u=>{let m=v.options.find(L=>L.id===u);m&&q(m.dataRef.current.value)}),N=g(()=>{if(v.activeOptionIndex!==null){let{dataRef:u,id:m}=v.options[v.activeOptionIndex];q(u.current.value),o({type:2,focus:E.Specific,id:m})}}),J=g(()=>o({type:0})),ue=g(()=>o({type:1})),pe=g((u,m,L)=>u===E.Specific?o({type:2,focus:E.Specific,id:m,trigger:L}):o({type:2,focus:u,trigger:L})),de=g((u,m)=>(o({type:5,id:u,dataRef:m}),()=>o({type:6,id:u}))),ce=g(u=>(o({type:7,id:u}),()=>o({type:7,id:null}))),q=g(u=>P(v.mode,{[0](){return D==null?void 0:D(u)},[1](){let m=v.value.slice(),L=m.findIndex(U=>h(U,u));return L===-1?m.push(u):m.splice(L,1),D==null?void 0:D(m)}})),fe=g(u=>o({type:3,value:u})),me=g(()=>o({type:4})),be=d.useMemo(()=>({onChange:q,registerOption:de,registerLabel:ce,goToOption:pe,closeListbox:ue,openListbox:J,selectActiveOption:N,selectOption:ne,search:fe,clearSearch:me}),[]),ve={ref:O},_=d.useRef(null),ge=G();return d.useEffect(()=>{_.current&&n!==void 0&&ge.addEventListener(_.current,"reset",()=>{q(n)})},[_,q]),p.createElement(ee.Provider,{value:be},p.createElement(te.Provider,{value:v},p.createElement(Re,{value:P(v.listboxState,{[0]:K.Open,[1]:K.Closed})},s!=null&&y!=null&&Oe({[s]:y}).map(([u,m],L)=>p.createElement(Se,{features:Le.Hidden,ref:L===0?U=>{var re;_.current=(re=U==null?void 0:U.closest("form"))!=null?re:null}:void 0,...Ee({key:u,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,name:u,value:m})})),B({ourProps:ve,theirProps:S,slot:k,defaultTag:je,name:"Listbox"}))))}let Ke="button";function Xe(e,r){var a;let n=X(),{id:l=`headlessui-listbox-button-${n}`,...s}=e,t=H("Listbox.Button"),i=Q("Listbox.Button"),c=A(t.buttonRef,r),x=G(),z=g(f=>{switch(f.key){case R.Space:case R.Enter:case R.ArrowDown:f.preventDefault(),i.openListbox(),x.nextFrame(()=>{t.value||i.goToOption(E.First)});break;case R.ArrowUp:f.preventDefault(),i.openListbox(),x.nextFrame(()=>{t.value||i.goToOption(E.Last)});break}}),S=g(f=>{switch(f.key){case R.Space:f.preventDefault();break}}),w=g(f=>{if($e(f.currentTarget))return f.preventDefault();t.listboxState===0?(i.closeListbox(),x.nextFrame(()=>{var o;return(o=t.buttonRef.current)==null?void 0:o.focus({preventScroll:!0})})):(f.preventDefault(),i.openListbox())}),O=se(()=>{if(t.labelId)return[t.labelId,l].join(" ")},[t.labelId,l]),y=d.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled,value:t.value}),[t]),D={ref:c,id:l,type:De(e,t.buttonRef),"aria-haspopup":"listbox","aria-controls":(a=t.optionsRef.current)==null?void 0:a.id,"aria-expanded":t.disabled?void 0:t.listboxState===0,"aria-labelledby":O,disabled:t.disabled,onKeyDown:z,onKeyUp:S,onClick:w};return B({ourProps:D,theirProps:s,slot:y,defaultTag:Ke,name:"Listbox.Button"})}let Je="label";function We(e,r){let a=X(),{id:n=`headlessui-listbox-label-${a}`,...l}=e,s=H("Listbox.Label"),t=Q("Listbox.Label"),i=A(s.labelRef,r);j(()=>t.registerLabel(n),[n]);let c=g(()=>{var z;return(z=s.buttonRef.current)==null?void 0:z.focus({preventScroll:!0})}),x=d.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return B({ourProps:{ref:i,id:n,onClick:c},theirProps:l,slot:x,defaultTag:Je,name:"Listbox.Label"})}let Ye="ul",Ze=ae.RenderStrategy|ae.Static;function et(e,r){var a;let n=X(),{id:l=`headlessui-listbox-options-${n}`,...s}=e,t=H("Listbox.Options"),i=Q("Listbox.Options"),c=A(t.optionsRef,r),x=G(),z=G(),S=we(),w=(()=>S!==null?(S&K.Open)===K.Open:t.listboxState===0)();d.useEffect(()=>{var o;let b=t.optionsRef.current;b&&t.listboxState===0&&b!==((o=Ie(b))==null?void 0:o.activeElement)&&b.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let O=g(o=>{switch(z.dispose(),o.key){case R.Space:if(t.searchQuery!=="")return o.preventDefault(),o.stopPropagation(),i.search(o.key);case R.Enter:if(o.preventDefault(),o.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:b}=t.options[t.activeOptionIndex];i.onChange(b.current.value)}t.mode===0&&(i.closeListbox(),Z().nextFrame(()=>{var b;return(b=t.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})}));break;case P(t.orientation,{vertical:R.ArrowDown,horizontal:R.ArrowRight}):return o.preventDefault(),o.stopPropagation(),i.goToOption(E.Next);case P(t.orientation,{vertical:R.ArrowUp,horizontal:R.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),i.goToOption(E.Previous);case R.Home:case R.PageUp:return o.preventDefault(),o.stopPropagation(),i.goToOption(E.First);case R.End:case R.PageDown:return o.preventDefault(),o.stopPropagation(),i.goToOption(E.Last);case R.Escape:return o.preventDefault(),o.stopPropagation(),i.closeListbox(),x.nextFrame(()=>{var b;return(b=t.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})});case R.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(i.search(o.key),z.setTimeout(()=>i.clearSearch(),350));break}}),y=se(()=>{var o,b,T;return(T=(o=t.labelRef.current)==null?void 0:o.id)!=null?T:(b=t.buttonRef.current)==null?void 0:b.id},[t.labelRef.current,t.buttonRef.current]),D=d.useMemo(()=>({open:t.listboxState===0}),[t]),f={"aria-activedescendant":t.activeOptionIndex===null||(a=t.options[t.activeOptionIndex])==null?void 0:a.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":y,"aria-orientation":t.orientation,id:l,onKeyDown:O,role:"listbox",tabIndex:0,ref:c};return B({ourProps:f,theirProps:s,slot:D,defaultTag:Ye,features:Ze,visible:w,name:"Listbox.Options"})}let tt="li";function nt(e,r){let a=X(),{id:n=`headlessui-listbox-option-${a}`,disabled:l=!1,value:s,...t}=e,i=H("Listbox.Option"),c=Q("Listbox.Option"),x=i.activeOptionIndex!==null?i.options[i.activeOptionIndex].id===n:!1,z=i.isSelected(s),S=d.useRef(null),w=Me(S),O=Te({disabled:l,value:s,domRef:S,get textValue(){return w()}}),y=A(r,S);j(()=>{if(i.listboxState!==0||!x||i.activationTrigger===0)return;let h=Z();return h.requestAnimationFrame(()=>{var I,v;(v=(I=S.current)==null?void 0:I.scrollIntoView)==null||v.call(I,{block:"nearest"})}),h.dispose},[S,x,i.listboxState,i.activationTrigger,i.activeOptionIndex]),j(()=>c.registerOption(n,O),[O,n]);let D=g(h=>{if(l)return h.preventDefault();c.onChange(s),i.mode===0&&(c.closeListbox(),Z().nextFrame(()=>{var I;return(I=i.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})}))}),f=g(()=>{if(l)return c.goToOption(E.Nothing);c.goToOption(E.Specific,n)}),o=Ce(),b=g(h=>o.update(h)),T=g(h=>{o.wasMoved(h)&&(l||x||c.goToOption(E.Specific,n,0))}),C=g(h=>{o.wasMoved(h)&&(l||x&&c.goToOption(E.Nothing))}),F=d.useMemo(()=>({active:x,selected:z,disabled:l}),[x,z,l]);return B({ourProps:{id:n,ref:y,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":z,disabled:void 0,onClick:D,onFocus:f,onPointerEnter:b,onMouseEnter:b,onPointerMove:T,onMouseMove:T,onPointerLeave:C,onMouseLeave:C},theirProps:t,slot:F,defaultTag:tt,name:"Listbox.Option"})}let rt=M(Ge),at=M(Xe),ot=M(We),lt=M(et),it=M(nt),V=Object.assign(rt,{Button:at,Label:ot,Options:lt,Option:it});const st=268,ut=(e,r)=>$("zep-flex zep-w-full zep-items-center zep-justify-between zep-bg-background-light zep-px-1 zep-py-0.75",{"zep-bg-background-medium":e},{"zep-bg-background-medium":r},{"zep-pr-3":r}),ie=({disabled:e=!1,items:r,message:a,label:n,placeholder:l,readOnly:s=!1,state:t="default",...i})=>{const[c,x]=d.useState(),z=p.useRef(null),S=p.useRef(null),w=t==="error",O=e||s,y=w?"zep-text-error":t==="info"?"zep-text-info":"",D=f=>{i.onChange&&i.onChange(f),x(f)};return p.createElement("div",{className:qe($("zep-relative","zep-inline-block","zep-text-left","zep-w-full",{"zep-cursor-not-allowed zep-opacity-disabled":e},i.className)),"data-testid":"zep-drop-down"},p.createElement(V,{disabled:O,...i,onChange:D},({open:f})=>{const b=Fe(S.current)<st,T=s?void 0:l,C=(c==null?void 0:c.name)||T,F=e?"zep-text-opacity-disabled":!(c!=null&&c.name)&&!s?"zep-text-typography-dark-100 zep-opacity-70":"zep-text-typography-dark-100",h=$("zep-inline-flex","zep-justify-between","zep-rounded-4","zep-border-solid","zep-pl-1","zep-pr-0.75","zep-py-0.75","zep-font-roboto","zep-w-full","zep-outline-none",w?"zep-border-2":"zep-border-1",F,{"zep-bg-background-medium":s},{"zep-ring":f},{"zep-border-error":w},{"zep-active:ring":!O},{"zep-ring-offset-1":!O},{"focus-visible:zep-ring":!O},{"zep-ring-focus":!O},{"zep-cursor-not-allowed":O}),I=$("zep-absolute","zep-drop-shadow-sm","zep-py-0.25","zep-z-10","zep-w-full","zep-max-h-[268px]","zep-origin-top-right","zep-rounded-4","zep-bg-background-light","zep-drop-shadow-sm","focus:outline-none","zep-overflow-hidden","zep-overflow-y-auto",b?"zep-mb-[-25px]":"zep-mt-0.25",{"zep-bottom-full":b}),v=$(O?"zep-text-opacity-disabled":"zep-text-typography-dark-100","zep-transition-transform","zep-duration-500","zep-shrink-0",{"zep-rotate-180":f});return p.createElement(p.Fragment,null,n&&p.createElement(V.Label,{className:$("zep-block","zep-mb-0.5",{"zep-text-opacity-disabled":e})},n,!i.required&&p.createElement("span",{className:"zep-ml-0.25"},"(optional)")),p.createElement(V.Button,{className:h,ref:S,title:C,"data-testid":"zep-drop-down-button"},p.createElement(p.Fragment,null,p.createElement("span",{className:"zep-truncate"},C),p.createElement(W,{className:v,name:"chevron-mini-down",role:"img",size:24}))),p.createElement(Ne,{as:d.Fragment,enter:"zep-transition zep-ease-out zep-duration-100",enterFrom:"zep-transform zep-opacity-0 zep-scale-95",enterTo:"zep-transform zep-opacity-100 zep-scale-100",leave:"zep-transition zep-ease-in zep-duration-25",leaveFrom:"zep-transform zep-opacity-100 zep-scale-100",leaveTo:"zep-transform zep-opacity-0 zep-scale-95"},p.createElement(V.Options,{className:I,ref:z,"data-testid":"zep-drop-down-menu"},r.map((k,ne)=>p.createElement(V.Option,{key:k.id,value:k,title:k.name,className:({active:N,selected:J})=>ut(N,J)},({selected:N})=>p.createElement(p.Fragment,null,p.createElement("span",{className:"zep-truncate"},k.name),N&&p.createElement(W,{name:"check",role:"img",size:24,className:"zep-absolute zep-right-1"})))))))}),a&&p.createElement("div",{className:$("zep-mt-[6px]","zep-text-typography-dark-100 zep-opacity-70","zep-text-0.875","zep-flex","zep-items-center",y)},t!=="default"&&p.createElement(W,{name:"info-circle-filled",role:"img",size:24,className:"zep-mr-0.5"}),p.createElement("span",null,a)))};try{ie.displayName="DropDown",ie.__docgenInfo={description:"",displayName:"DropDown",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"DropDownItem[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},state:{defaultValue:{value:"default"},description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"error"'},{value:'"info"'}]}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((item: DropDownItem) => void)"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"enum",value:[{value:'"div"'}]}},refName:{defaultValue:null,description:"",name:"refName",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | ((bag: ListboxRenderPropArg<any>) => string)"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"any"}},by:{defaultValue:null,description:"",name:"by",required:!1,type:{name:"string | ((a: any, z: any) => boolean)"}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},form:{defaultValue:null,description:"",name:"form",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}}}}}catch{}export{ie as D};
//# sourceMappingURL=DropDown-6058a54c.js.map
