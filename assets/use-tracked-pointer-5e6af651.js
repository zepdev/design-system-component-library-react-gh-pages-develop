import{r as c,R as x}from"./index-39946eba.js";import{a as p,l as y,t as L,h as w,T,o as A}from"./keyboard-c7913bb0.js";function M(e,n){let[t,r]=c.useState(e),o=p(e);return y(()=>r(o.current),[o,r,...n]),t}function g(){let e=[],n={addEventListener(t,r,o,l){return t.addEventListener(r,o,l),n.add(()=>t.removeEventListener(r,o,l))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return n.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return n.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return L(()=>{r.current&&t[0]()}),n.add(()=>{r.current=!1})},style(t,r,o){let l=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:o}),this.add(()=>{Object.assign(t.style,{[r]:l})})},group(t){let r=g();return t(r),this.add(()=>r.dispose())},add(t){return e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let t of e.splice(0))t()}};return n}function D(){let[e]=c.useState(g);return c.useEffect(()=>()=>e.dispose(),[e]),e}function m(e,n,t){let r=p(n);c.useEffect(()=>{function o(l){r.current(l)}return document.addEventListener(e,o,t),()=>document.removeEventListener(e,o,t)},[e,t])}function S(e,n,t){let r=p(n);c.useEffect(()=>{function o(l){r.current(l)}return window.addEventListener(e,o,t),()=>window.removeEventListener(e,o,t)},[e,t])}function H(e,n,t=!0){let r=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{r.current=t})},[t]);function o(u,s){if(!r.current||u.defaultPrevented)return;let i=s(u);if(i===null||!i.getRootNode().contains(i)||!i.isConnected)return;let d=function f(a){return typeof a=="function"?f(a()):Array.isArray(a)||a instanceof Set?a:[a]}(e);for(let f of d){if(f===null)continue;let a=f instanceof HTMLElement?f:f.current;if(a!=null&&a.contains(i)||u.composed&&u.composedPath().includes(a))return}return!w(i,T.Loose)&&i.tabIndex!==-1&&u.preventDefault(),n(u,i)}let l=c.useRef(null);m("pointerdown",u=>{var s,i;r.current&&(l.current=((i=(s=u.composedPath)==null?void 0:s.call(u))==null?void 0:i[0])||u.target)},!0),m("mousedown",u=>{var s,i;r.current&&(l.current=((i=(s=u.composedPath)==null?void 0:s.call(u))==null?void 0:i[0])||u.target)},!0),m("click",u=>{l.current&&(o(u,()=>l.current),l.current=null)},!0),m("touchend",u=>o(u,()=>u.target instanceof HTMLElement?u.target:null),!0),S("blur",u=>o(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function F(e){throw new Error("Unexpected object: "+e)}var I=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(I||{});function N(e,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),o=r??-1,l=(()=>{switch(e.focus){case 0:return t.findIndex(u=>!n.resolveDisabled(u));case 1:{let u=t.slice().reverse().findIndex((s,i,d)=>o!==-1&&d.length-i-1>=o?!1:!n.resolveDisabled(s));return u===-1?u:t.length-1-u}case 2:return t.findIndex((u,s)=>s<=o?!1:!n.resolveDisabled(u));case 3:{let u=t.slice().reverse().findIndex(s=>!n.resolveDisabled(s));return u===-1?u:t.length-1-u}case 4:return t.findIndex(u=>n.resolveId(u)===e.id);case 5:return null;default:F(e)}})();return l===-1?r:l}function q(e){let n=e.parentElement,t=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(t=n),n=n.parentElement;let r=(n==null?void 0:n.getAttribute("disabled"))==="";return r&&C(t)?!1:r}function C(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}function O(e={},n=null,t=[]){for(let[r,o]of Object.entries(e))b(t,E(n,r),o);return t}function E(e,n){return e?e+"["+n+"]":n}function b(e,n,t){if(Array.isArray(t))for(let[r,o]of t.entries())b(e,E(n,r.toString()),o);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):O(t,n,e)}let v=c.createContext(null);v.displayName="OpenClosedContext";var $=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($||{});function j(){return c.useContext(v)}function k({value:e,children:n}){return x.createElement(v.Provider,{value:e},n)}function U(e,n,t){let[r,o]=c.useState(t),l=e!==void 0,u=c.useRef(l),s=c.useRef(!1),i=c.useRef(!1);return l&&!u.current&&!s.current?(s.current=!0,u.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&u.current&&!i.current&&(i.current=!0,u.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?e:r,A(d=>(l||o(d),n==null?void 0:n(d)))]}function h(e){return[e.screenX,e.screenY]}function V(){let e=c.useRef([-1,-1]);return{wasMoved(n){let t=h(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=h(n)}}}export{j as C,U as T,I as a,k as c,$ as d,O as e,H as h,M as i,g as o,D as p,q as r,V as u,N as x};
//# sourceMappingURL=use-tracked-pointer-5e6af651.js.map
