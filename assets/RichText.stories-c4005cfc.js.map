{"version":3,"file":"RichText.stories-c4005cfc.js","sources":["../../src/new_components/richText/RichText.tsx"],"sourcesContent":["import { clsx } from 'clsx';\nimport React from 'react';\nimport { Link } from '../../components/link';\nimport { LinkMode, LinkTarget } from '../../components/link/link.interface';\nimport { List } from '../../components/list';\nimport { Block, EntityMap, RichTextProps } from './rich-text.interface';\n\n// Header Component\nconst Header: React.FC<{ level: 'header-three' | 'header-four'; className?: string; children: React.ReactNode }> = ({\n  level,\n  children,\n}) => {\n  const className =\n    level === 'header-three'\n      ? 'zep-typography-headlineXS zep-mb-1 sm:zep-typography-headlineMD'\n      : 'zep-typography-headlineMD zep-mb-2 sm:zep-typography-headlineXL';\n  return level === 'header-three' ? (\n    <h3 className={className}>{children}</h3>\n  ) : (\n    <h4 className={className}>{children}</h4>\n  );\n};\n\n// Paragraph Component\nconst Paragraph: React.FC<{ children: React.ReactNode; className?: string }> = ({ children }) => (\n  <p className=\"zep-mb-2\">{children}</p>\n);\n\n// List Component\nconst ListComponent: React.FC<{ ordered: boolean; className?: string; items: string[] }> = ({ ordered, items }) => (\n  <List className=\"zep-mb-2\" type={ordered ? 'numeric' : 'bullet'}>\n    {items.map((item, idx) => (\n      <List.Item key={idx}>{item}</List.Item>\n    ))}\n  </List>\n);\n\nconst RichText = ({ content, children, textColor }: RichTextProps) => {\n  const containerClass =\n    textColor === 'white'\n      ? '!zep-text-typography-light-100'\n      : textColor === 'black'\n      ? '!zep-text-typography-dark-100'\n      : '!zep-text-indigo-500';\n  const renderBlock = (block: Block, index: number, entityMap: EntityMap) => {\n    const { type, text, inlineStyleRanges = [], entityRanges = [], items = [], ordered } = block;\n\n    const getSegments = (text: string, ranges: any[], entityMap?: EntityMap, type: 'style' | 'entity' = 'style') => {\n      let segments: Array<{ text: string; style?: string | null; url?: string | null }> = [];\n      let lastIndex = 0;\n\n      ranges.forEach(({ offset, length, style, key }) => {\n        if (offset > lastIndex) {\n          segments.push({ text: text.slice(lastIndex, offset), style: null, url: null });\n        }\n        const segmentText = text.slice(offset, offset + length);\n        const segmentStyle = type === 'style' ? style || null : null;\n        const segmentUrl = type === 'entity' && key !== undefined && entityMap ? entityMap[key].data.url : null;\n\n        segments.push({ text: segmentText, style: segmentStyle, url: segmentUrl });\n        lastIndex = offset + length;\n      });\n\n      if (lastIndex < text.length) {\n        segments.push({ text: text.slice(lastIndex), style: null, url: null });\n      }\n\n      return segments;\n    };\n\n    const entitySegments = getSegments(text || '', entityRanges, entityMap, 'entity');\n    const finalSegments = entitySegments.flatMap((segment, entityIndex) => {\n      if (segment.url) {\n        return (\n          <>\n            <Link\n              key={entityIndex}\n              href={segment.url}\n              as=\"span\"\n              icon=\"\"\n              label={segment.text}\n              mode={LinkMode.Inline}\n              target={LinkTarget.Blank}\n            />\n          </>\n        );\n      }\n      const styleSegments = getSegments(segment.text, inlineStyleRanges, undefined, 'style');\n      return styleSegments.map((styleSegment, styleIndex) => {\n        if (styleSegment.style === 'BOLD') {\n          return (\n            <span className=\"zep-typography-bodyStrong\" key={entityIndex + '-' + styleIndex}>\n              {styleSegment.text}\n            </span>\n          );\n        } else if (styleSegment.style === 'ITALIC') {\n          return (\n            <span className=\"zep-italic\" key={entityIndex + '-' + styleIndex}>\n              {styleSegment.text}\n            </span>\n          );\n        }\n        return <span key={entityIndex + '-' + styleIndex}>{styleSegment.text}</span>;\n      });\n    });\n\n    const contentElement = <span className={clsx(containerClass)}>{finalSegments}</span>;\n\n    switch (type) {\n      case 'header-three':\n      case 'header-two':\n        return (\n          <Header className={containerClass} level={type} key={index}>\n            {contentElement}\n          </Header>\n        );\n      case 'unstyled':\n        return (\n          <Paragraph className={containerClass} key={index}>\n            {contentElement}\n          </Paragraph>\n        );\n      case 'list':\n        return <ListComponent className={containerClass} ordered={!!ordered} items={items} key={index} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div\n      className={clsx(containerClass, 'zep-container', 'md:zep-w-[944px]', 'zep-mx-auto')}\n      data-testid=\"zep-richtext\"\n    >\n      {content.blocks.map((block, index) => renderBlock(block, index, content.entityMap))}\n      {content.images.map((image, index) => (\n        <div key={index}>\n          <img className=\"zep-h-auto zep-max-w-full zep-mb-1\" src={image.src} alt={image.alt} />\n        </div>\n      ))}\n      {children}\n    </div>\n  );\n};\n\nexport { RichText };\n"],"names":["Header","level","children","className","jsxDEV","this","Paragraph","ListComponent","ordered","items","List","item","idx","RichText","content","textColor","containerClass","renderBlock","block","index","entityMap","type","text","inlineStyleRanges","entityRanges","getSegments","text2","ranges","entityMap2","type2","segments","lastIndex","offset","length","style","key","segmentText","segmentStyle","segmentUrl","finalSegments","segment","entityIndex","Fragment","Link","LinkMode","LinkTarget","styleSegment","styleIndex","contentElement","clsx","image"],"mappings":"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"}